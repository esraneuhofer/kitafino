<div class="container-font-size">
  <div class="bg-white shadow-lg rounded-lg overflow-hidden mb-2">
    <div class="p-4">
      <div class="flex justify-end">
        <div class="w-full">
          <div class="flex flex-col items-end">
            <div class="text-xs text-gray-500">{{ differenceTimeDeadline }}</div>
            <p>{{ orderDay.date | date:'EEEE dd.MM.yy':'de' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngFor="let eachMenu of orderDay.orderStudentModel.order.orderMenus; let indexMenu = index">
    <div class="shadow-lg rounded-lg overflow-hidden relative"
         [ngStyle]="{'min-height': eachMenu.displayMenu ? '140px' : '80px'}"
         [ngClass]="getClasses(indexMenu, eachMenu, pastOrder)">
      <div class="p-4">
        <!-- Top content goes here -->
        <div class="flex">
          <div class="w-full">
            <div class="flex">
              <div class="w-1/6" *ngIf="eachMenu.displayMenu">
                <input type="checkbox"
                       [disabled]="pastOrder"
                       [ngClass]="{'cursor-not-allowed': pastOrder}"
                       (ngModelChange)="setOrderDay($event,indexMenu)"
                       [name]="'menuSelected' + indexMenu + '_' + indexDay" [(ngModel)]="eachMenu.menuSelected">
              </div>
              <div class="w-5/6" >
                <span>{{ eachMenu.nameOrder }}</span>
                <span *ngIf="atLeastOneAllergene(eachMenu)"
                      [matTooltip]="getTooltipContent(eachMenu.allergenes)">
                   <span class="allergen-ordinal">
                    ({{getAllergenes(eachMenu.allergenes)}})
                               </span>
        </span>

              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- This part will always stay at the bottom, using absolute positioning -->
      <div class="absolute bottom-0 right-0 p-4" *ngIf="eachMenu.displayMenu">
        <div class="flex justify-end">
          {{ eachMenu.priceOrder | currency:'EUR':true:'1.2-2' }}
          <fa-icon [icon]="faShoppingCart" *ngIf="!eachMenu.menuSelected" (click)="setOrderIcon(indexMenu,true)"></fa-icon>
          <fa-icon [icon]="faTrashCan" *ngIf="eachMenu.menuSelected" (click)="setOrderIcon(indexMenu,false)"></fa-icon>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="submittingOrder" class="loading-screen">
  <div class="loading-circle"></div>
</div>

